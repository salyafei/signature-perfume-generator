
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>Orissa | Fragrance Personality Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Lora&family=Inter&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Lora', 'Inter', sans-serif;
      background-color: #FFFFF0;
      color: #333;
      padding: 20px;
      max-width: 960px;
      margin: auto;
    }
    h1, h2 {
      font-family: 'Playfair Display', serif;
      color: #40E0D0;
      text-align: center;
    }
    .question {
      margin-bottom: 25px;
      padding: 15px;
      background: #fff;
      border-left: 5px solid #40E0D0;
      border-radius: 6px;
    }
    label {
      display: block;
      margin: 5px 0;
    }
    button {
      padding: 12px 24px;
      background-color: #40E0D0;
      color: white;
      border: none;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      display: block;
      margin: 20px auto;
    }
    #result {
      background: white;
      margin-top: 40px;
      padding: 20px;
      border-radius: 10px;
      border-left: 6px solid #40E0D0;
    }
    .lang-toggle {
      text-align: right;
      margin-bottom: 20px;
    }
    .lang-toggle button {
      background: transparent;
      color: #40E0D0;
      border: 2px solid #40E0D0;
      border-radius: 4px;
      padding: 6px 12px;
    }
    .logo {
      text-align: center;
      margin-bottom: 30px;
    }
    .logo img {
      max-width: 150px;
    }
  </style>
</head>
<body>

<div class="lang-toggle">
  <button onclick="toggleLang()">AR / EN</button>
</div>

<div class="logo">
  <img src="logo.png" alt="Orissa Logo">
</div>

<h1 id="title">Discover Your Signature Fragrance<br><span style="font-size: 0.6em;">اكتشف عطرك الشخصي</span></h1>

<form id="quizForm">
  <div id="questions"></div>
  <button type="button" onclick="generateResult()">Generate Result | توليد النتيجة</button>
</form>

<div id="result"></div>

<script>
const lang = { current: "en" };

const questionsData = Array.from({ length: 20 }).map((_, i) => ({
  en: `Sample Question ${i + 1}: What resonates with you most?`,
  ar: `السؤال ${i + 1}: ما الذي يلامسك أكثر؟`,
  options: [
    ["Peaceful reflection", "تأمل هادئ", ["elegant", "serenity", "woody", "nature"]],
    ["Bold action", "عمل جريء", ["bold", "power", "spicy", "celebration"]],
    ["Mystical solitude", "عزلة غامضة", ["mysterious", "intrigue", "oriental", "reflection"]],
    ["Loving warmth", "دفء المحبة", ["sensual", "joy", "gourmand", "childhood"]],
    ["Playful adventure", "مغامرة مرحة", ["refreshing", "confidence", "citrus", "celebration"]],
    ["Exotic escape", "هروب غريب", ["exotic", "serenity", "woody", "travel"]]
  ]
}));

const categories = {
  style: ["elegant", "bold", "sensual", "exotic", "mysterious", "refreshing"],
  emotion: ["confidence", "serenity", "passion", "joy", "power", "intrigue"],
  family: ["floral", "woody", "spicy", "oriental", "citrus", "gourmand"],
  memory: ["romance", "travel", "childhood", "nature", "reflection", "celebration"]
};

const score = {
  style: {}, emotion: {}, family: {}, memory: {}
};

function resetScore() {
  for (let cat in score) {
    categories[cat].forEach(trait => score[cat][trait] = 0);
  }
}

function renderQuestions() {
  const container = document.getElementById("questions");
  container.innerHTML = "";
  questionsData.forEach((q, idx) => {
    const div = document.createElement("div");
    div.className = "question";
    const qText = lang.current === "ar" ? q.ar : q.en;
    div.innerHTML = `<p><strong>${idx + 1}. ${qText}</strong></p>`;
    q.options.forEach((opt, i) => {
      const label = lang.current === "ar" ? opt[1] : opt[0];
      div.innerHTML += \`
        <label>
          <input type="radio" name="q\${idx}" value="\${i}">
          \${label}
        </label>
      \`;
    });
    container.appendChild(div);
  });
}

function toggleLang() {
  lang.current = lang.current === "en" ? "ar" : "en";
  document.body.dir = lang.current === "ar" ? "rtl" : "ltr";
  document.getElementById("title").innerHTML = lang.current === "ar"
    ? "اكتشف عطرك الشخصي<br><span style='font-size: 0.6em;'>Discover Your Signature Fragrance</span>"
    : "Discover Your Signature Fragrance<br><span style='font-size: 0.6em;'>اكتشف عطرك الشخصي</span>";
  renderQuestions();
}

function generateResult() {
  resetScore();
  const form = document.forms['quizForm'];
  questionsData.forEach((q, i) => {
    const selected = form["q" + i].value;
    if (selected !== undefined) {
      const traits = q.options[selected][2];
      score.style[traits[0]]++;
      score.emotion[traits[1]]++;
      score.family[traits[2]]++;
      score.memory[traits[3]]++;
    }
  });

  const result = {};
  for (let cat in score) {
    result[cat] = Object.entries(score[cat]).sort((a, b) => b[1] - a[1])[0][0];
  }

  const pyramid = {
    citrus: ["Bergamot", "Neroli", "Musk"],
    floral: ["Jasmine", "Rose", "Musk"],
    woody: ["Cedarwood", "Sandalwood", "Vetiver"],
    gourmand: ["Vanilla", "Coffee", "Tonka Bean"],
    oriental: ["Amber", "Myrrh", "Benzoin"],
    spicy: ["Cardamom", "Cinnamon", "Oud"]
  };

  const [top, heart, base] = pyramid[result.family] || ["Citrus", "Floral", "Woody"];

  document.getElementById("result").innerHTML = `
    <h2>${lang.current === "ar" ? "نتيجتك العطرية" : "Your Fragrance Profile"}</h2>
    <p><strong>${lang.current === "ar" ? "الأسلوب" : "Style"}:</strong> ${result.style}</p>
    <p><strong>${lang.current === "ar" ? "العاطفة" : "Emotion"}:</strong> ${result.emotion}</p>
    <p><strong>${lang.current === "ar" ? "عائلة العطر" : "Fragrance Family"}:</strong> ${result.family}</p>
    <p><strong>${lang.current === "ar" ? "الذاكرة" : "Memory Theme"}:</strong> ${result.memory}</p>
    <h3>${lang.current === "ar" ? "هرم العطر" : "Fragrance Pyramid"}</h3>
    <ul>
      <li><strong>${lang.current === "ar" ? "المقدمة" : "Top Note"}:</strong> ${top}</li>
      <li><strong>${lang.current === "ar" ? "القلب" : "Heart Note"}:</strong> ${heart}</li>
      <li><strong>${lang.current === "ar" ? "القاعدة" : "Base Note"}:</strong> ${base}</li>
    </ul>
  `;
}

renderQuestions();
</script>
</body>
</html>
